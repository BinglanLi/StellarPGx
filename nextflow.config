manifest {
    author = 'David Twesigomwe'
    description = 'Pipeline calls CYP2D6 star alleles from WGS BAM files'
    mainScript = 'main.nf'
    version = '1.0.0'
}



params {
//   ref_genome = null
   in_bam = "/home/david/CypGen-dev/data/hg38/NA18642*{cram,crai}"
//   in_bam = "/home/david/GeT-RM/bam_links/NA10854*{bam,bai}"  
   build37db = "$PWD/database/b37"
   build38db = "$PWD/database/hg38"
   build37res = "$PWD/resources/b37"
   build38res = "$PWD/resources/hg38"
   build37call = "$PWD/scripts/b37/bin"
   build38call = "$PWD/scripts/hg38/bin"
   out_dir = "$PWD/results"
}


//def checkPaths() {

    // check reference genome
//    if(params.ref_genome == null) {
    	// Ref missing!
//    } else{
//        ref_dir = new File("${params.ref_genome}").getParent()
//    }


    // check input BAM
//    if (params.in_bam == null) {
        // Input data missing!
//    } else{
//        bam_dir = new File("${params.in_bam}").getParent()
//    }

    // check output dir
    // if (params.out == null) {
    //     out_dir = new File("$PWD/results")
    // } else{
    // 	out_dir = new File("${params.out}")
    // }   

//}

profiles {

    // For execution on a local machine, no containerization. -- Default
    standard {
        process.executor = 'local'
    }


    // For execution on a SLURM scheduler, no containerization.
    slurm {
        process.executor = 'slurm'
        process.queue = 'batch'
    }
}