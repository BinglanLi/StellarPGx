May-10 01:24:42.107 [main] DEBUG nextflow.cli.Launcher - $> nextflow run asteri.nf -profile slurm
May-10 01:24:43.384 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 20.01.0
May-10 01:24:43.426 [main] INFO  nextflow.cli.CmdRun - Launching `asteri.nf` [focused_colden] - revision: f7d76ad559
May-10 01:24:43.554 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /home/david/asterigraph/workflows/nextflow.config
May-10 01:24:43.556 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/david/asterigraph/workflows/nextflow.config
May-10 01:24:43.745 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `slurm`
May-10 01:24:46.706 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [standard, slurm]
May-10 01:24:47.120 [main] DEBUG nextflow.Session - Session uuid: f808d4e0-90fc-4685-9ec6-92a31c279c6b
May-10 01:24:47.120 [main] DEBUG nextflow.Session - Run name: focused_colden
May-10 01:24:47.122 [main] DEBUG nextflow.Session - Executor pool size: 2
May-10 01:24:47.222 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 20.01.0 build 5264
  Created: 12-02-2020 10:14 UTC (12:14 SAST)
  System: Linux 3.10.0-1062.4.1.el7.x86_64
  Runtime: Groovy 2.5.8 on OpenJDK 64-Bit Server VM 1.8.0_252-b09
  Encoding: UTF-8 (UTF-8)
  Process: 5880@n22.core.wits.ac.za [146.141.240.122]
  CPUs: 1 - Mem: 55.5 GB (29.2 GB) - Swap: 27.9 GB (21.9 GB)
May-10 01:24:47.760 [main] DEBUG nextflow.Session - Work-dir: /home/david/asterigraph/workflows/work [nfs]
May-10 01:24:48.031 [main] DEBUG nextflow.Session - Observer factory: TowerFactory
May-10 01:24:48.035 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
May-10 01:24:48.740 [main] DEBUG nextflow.Session - Session start invoked
May-10 01:24:49.677 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
May-10 01:24:49.704 [main] DEBUG nextflow.Session - Workflow process names [dsl1]: call_variants, analyse_vcf, filter_bam
May-10 01:24:49.906 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: /home/david/GeT-RM/bam_links/; pattern: NA185*{bam,bai}; options: [type:file]
May-10 01:24:50.907 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
May-10 01:24:50.908 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
May-10 01:24:50.967 [main] DEBUG nextflow.executor.Executor - [warm up] executor > slurm
May-10 01:24:51.021 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'slurm' > capacity: 100; pollInterval: 5s; dumpInterval: 5m 
May-10 01:24:51.087 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'slurm' > queue-stat-interval: 1m
May-10 01:24:51.307 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > filter_bam -- maxForks: 2; blocking: false
May-10 01:24:51.497 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
May-10 01:24:51.497 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
May-10 01:24:51.501 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > call_variants -- maxForks: 2; blocking: false
May-10 01:24:51.562 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
May-10 01:24:51.562 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
May-10 01:24:51.565 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > analyse_vcf -- maxForks: 2; blocking: false
May-10 01:24:51.577 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
May-10 01:24:51.577 [main] DEBUG nextflow.Session - Session await
May-10 01:24:54.152 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (1) > jobId: 2793143; workDir: /home/david/asterigraph/workflows/work/df/926421781d185866e7cf00214d5c6d
May-10 01:24:54.162 [Task submitter] INFO  nextflow.Session - [df/926421] Submitted process > filter_bam (1)
May-10 01:24:54.272 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (2) > jobId: 2793144; workDir: /home/david/asterigraph/workflows/work/b1/e971e0ed756667943b1dd32283d634
May-10 01:24:54.273 [Task submitter] INFO  nextflow.Session - [b1/e971e0] Submitted process > filter_bam (2)
May-10 01:24:54.467 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (3) > jobId: 2793145; workDir: /home/david/asterigraph/workflows/work/ef/e0e83f4e65be56b8ae3f668e7f6956
May-10 01:24:54.467 [Task submitter] INFO  nextflow.Session - [ef/e0e83f] Submitted process > filter_bam (3)
May-10 01:24:54.558 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (5) > jobId: 2793146; workDir: /home/david/asterigraph/workflows/work/26/70e25e91de893fba775040db133468
May-10 01:24:54.559 [Task submitter] INFO  nextflow.Session - [26/70e25e] Submitted process > filter_bam (5)
May-10 01:24:54.636 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (4) > jobId: 2793147; workDir: /home/david/asterigraph/workflows/work/13/7e68cd553d590d931e26f067153c75
May-10 01:24:54.637 [Task submitter] INFO  nextflow.Session - [13/7e68cd] Submitted process > filter_bam (4)
May-10 01:24:54.713 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (6) > jobId: 2793148; workDir: /home/david/asterigraph/workflows/work/70/bc4ccb610fe743ddc105a2b0982759
May-10 01:24:54.714 [Task submitter] INFO  nextflow.Session - [70/bc4ccb] Submitted process > filter_bam (6)
May-10 01:24:54.797 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (7) > jobId: 2793149; workDir: /home/david/asterigraph/workflows/work/50/fd5ffb5ffb9b068c9b24cde2d05ca3
May-10 01:24:54.798 [Task submitter] INFO  nextflow.Session - [50/fd5ffb] Submitted process > filter_bam (7)
May-10 01:24:55.074 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (8) > jobId: 2793150; workDir: /home/david/asterigraph/workflows/work/30/687e4f8a7a85aab946c1efddc77062
May-10 01:24:55.075 [Task submitter] INFO  nextflow.Session - [30/687e4f] Submitted process > filter_bam (8)
May-10 01:24:55.124 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (9) > jobId: 2793151; workDir: /home/david/asterigraph/workflows/work/96/fd41b8614a1abe6039859140ba5160
May-10 01:24:55.124 [Task submitter] INFO  nextflow.Session - [96/fd41b8] Submitted process > filter_bam (9)
May-10 01:24:55.191 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (10) > jobId: 2793152; workDir: /home/david/asterigraph/workflows/work/b4/24f42e32663f15bee8b9101bae3fd3
May-10 01:24:55.192 [Task submitter] INFO  nextflow.Session - [b4/24f42e] Submitted process > filter_bam (10)
May-10 01:24:56.164 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793143; id: 1; name: filter_bam (1); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/df/926421781d185866e7cf00214d5c6d started: 1589066696083; exited: 2020-05-09T23:24:54.80133Z; ]
May-10 01:24:56.260 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793144; id: 2; name: filter_bam (2); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/b1/e971e0ed756667943b1dd32283d634 started: 1589066696218; exited: 2020-05-09T23:24:54.92533Z; ]
May-10 01:24:56.290 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793145; id: 3; name: filter_bam (3); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/ef/e0e83f4e65be56b8ae3f668e7f6956 started: 1589066696270; exited: 2020-05-09T23:24:55.321332Z; ]
May-10 01:24:56.331 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793146; id: 5; name: filter_bam (5); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/26/70e25e91de893fba775040db133468 started: 1589066696306; exited: 2020-05-09T23:24:55.251332Z; ]
May-10 01:24:56.397 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793147; id: 4; name: filter_bam (4); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/13/7e68cd553d590d931e26f067153c75 started: 1589066696342; exited: 2020-05-09T23:24:55.218331Z; ]
May-10 01:24:56.430 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793148; id: 6; name: filter_bam (6); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/70/bc4ccb610fe743ddc105a2b0982759 started: 1589066696405; exited: 2020-05-09T23:24:55.523333Z; ]
May-10 01:24:56.444 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793149; id: 7; name: filter_bam (7); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/50/fd5ffb5ffb9b068c9b24cde2d05ca3 started: 1589066696435; exited: 2020-05-09T23:24:55.473333Z; ]
May-10 01:24:56.453 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793150; id: 8; name: filter_bam (8); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/30/687e4f8a7a85aab946c1efddc77062 started: 1589066696448; exited: 2020-05-09T23:24:55.816334Z; ]
May-10 01:24:56.485 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793151; id: 9; name: filter_bam (9); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/96/fd41b8614a1abe6039859140ba5160 started: 1589066696475; exited: 2020-05-09T23:24:55.785334Z; ]
May-10 01:24:56.623 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793152; id: 10; name: filter_bam (10); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/b4/24f42e32663f15bee8b9101bae3fd3 started: 1589066696591; exited: 2020-05-09T23:24:55.852334Z; ]
May-10 01:24:56.639 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (1) > jobId: 2793153; workDir: /home/david/asterigraph/workflows/work/7e/085bf5050d9f392323f2fcad2a4c45
May-10 01:24:56.639 [Task submitter] INFO  nextflow.Session - [7e/085bf5] Submitted process > call_variants (1)
May-10 01:24:56.842 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (3) > jobId: 2793154; workDir: /home/david/asterigraph/workflows/work/cd/834c56dcaf2d3306a2e7262abea100
May-10 01:24:56.842 [Task submitter] INFO  nextflow.Session - [cd/834c56] Submitted process > call_variants (3)
May-10 01:24:56.978 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (4) > jobId: 2793155; workDir: /home/david/asterigraph/workflows/work/07/6a248a860ae55fb2b4ab2e2bcdb3be
May-10 01:24:56.978 [Task submitter] INFO  nextflow.Session - [07/6a248a] Submitted process > call_variants (4)
May-10 01:24:57.028 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (2) > jobId: 2793156; workDir: /home/david/asterigraph/workflows/work/46/ac90c35837862b97c84846c324dbc5
May-10 01:24:57.029 [Task submitter] INFO  nextflow.Session - [46/ac90c3] Submitted process > call_variants (2)
May-10 01:24:57.079 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (5) > jobId: 2793157; workDir: /home/david/asterigraph/workflows/work/45/a6c0adc3d4784ec376d98535ff8553
May-10 01:24:57.080 [Task submitter] INFO  nextflow.Session - [45/a6c0ad] Submitted process > call_variants (5)
May-10 01:24:57.121 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (7) > jobId: 2793158; workDir: /home/david/asterigraph/workflows/work/fb/b111d50d8b92d3cd4c59031323dedb
May-10 01:24:57.121 [Task submitter] INFO  nextflow.Session - [fb/b111d5] Submitted process > call_variants (7)
May-10 01:24:57.177 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (6) > jobId: 2793159; workDir: /home/david/asterigraph/workflows/work/df/140d383ecebf13b790a2bc0a9a4ab5
May-10 01:24:57.178 [Task submitter] INFO  nextflow.Session - [df/140d38] Submitted process > call_variants (6)
May-10 01:24:57.221 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (9) > jobId: 2793160; workDir: /home/david/asterigraph/workflows/work/70/92f0e13c12e0742bdc8129d152ecc4
May-10 01:24:57.226 [Task submitter] INFO  nextflow.Session - [70/92f0e1] Submitted process > call_variants (9)
May-10 01:24:57.258 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (8) > jobId: 2793161; workDir: /home/david/asterigraph/workflows/work/5e/b0d6f638d337f2724216e1c623696e
May-10 01:24:57.259 [Task submitter] INFO  nextflow.Session - [5e/b0d6f6] Submitted process > call_variants (8)
May-10 01:24:57.301 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (10) > jobId: 2793162; workDir: /home/david/asterigraph/workflows/work/4d/bd962a86564ed7d9961bb6953818a8
May-10 01:24:57.301 [Task submitter] INFO  nextflow.Session - [4d/bd962a] Submitted process > call_variants (10)
May-10 01:25:01.089 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793153; id: 11; name: call_variants (1); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/7e/085bf5050d9f392323f2fcad2a4c45 started: 1589066701078; exited: 2020-05-09T23:25:00.980358Z; ]
May-10 01:25:01.489 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process analyse_vcf (1) > jobId: 2793163; workDir: /home/david/asterigraph/workflows/work/7a/8683b90e006f0347091a939fbe02eb
May-10 01:25:01.489 [Task submitter] INFO  nextflow.Session - [7a/8683b9] Submitted process > analyse_vcf (1)
May-10 01:25:01.898 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793157; id: 15; name: call_variants (5); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/45/a6c0adc3d4784ec376d98535ff8553 started: 1589066701846; exited: 2020-05-09T23:24:58.971348Z; ]
May-10 01:25:01.995 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'call_variants (5)'

Caused by:
  Process `call_variants (5)` terminated with an error exit status (1)

Command executed:

  samtools index NA18519_filtered.bam 
  graphtyper genotype /spaces/gerrit/dbs/gatk/bundle/2.8/b37/human_g1k_v37_decoy.fasta --sam=NA18519_filtered.bam --region=22:42522300-42528400 --output=NA18519_var --prior_vcf=/home/david/asterigraph/resources/common_var_plus_core_var.vcf.gz -a --no_cleanup

Command exit status:
  1

Command output:
  (empty)

Command error:
  [2020-05-10 01:24:58.964240] <error> [graphtyper::rocksdb] Could not destroy database '/tmp/graphtyper_200510_012458_22_042522300/it2/graph_gti'. Message: IO error: while open a file for lock: /tmp/graphtyper_200510_012458_22_042522300/it2/graph_gti/LOCK: No such file or directory
  [2020-05-10 01:24:58.965731] <error> [graphtyper::rocksdb] While trying to open '/tmp/graphtyper_200510_012458_22_042522300/it2/graph_gti'. Message: IO error: While lock file: /tmp/graphtyper_200510_012458_22_042522300/it2/graph_gti/LOCK: Resource temporarily unavailable

Work dir:
  /home/david/asterigraph/workflows/work/45/a6c0adc3d4784ec376d98535ff8553

Tip: when you have fixed the problem you can continue the execution adding the option `-resume` to the run command line
May-10 01:25:02.027 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `call_variants (5)` terminated with an error exit status (1)
May-10 01:25:02.057 [Task monitor] DEBUG nextflow.Session - The following nodes are still active:
[process] analyse_vcf
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

May-10 01:25:02.108 [main] DEBUG nextflow.Session - Session await > all process finished
May-10 01:25:02.108 [main] DEBUG nextflow.Session - Session await > all barriers passed
May-10 01:25:02.147 [main] WARN  n.processor.TaskPollingMonitor - Killing pending tasks (9)
May-10 01:25:02.168 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793158; id: 17; name: call_variants (7); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/fb/b111d50d8b92d3cd4c59031323dedb started: 1589066702154; exited: 2020-05-09T23:24:59.062349Z; ]
May-10 01:25:02.183 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793159; id: 16; name: call_variants (6); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/df/140d383ecebf13b790a2bc0a9a4ab5 started: 1589066702175; exited: 2020-05-09T23:24:59.659352Z; ]
May-10 01:25:02.243 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793160; id: 19; name: call_variants (9); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/70/92f0e13c12e0742bdc8129d152ecc4 started: 1589066702196; exited: 2020-05-09T23:24:59.141349Z; ]
May-10 01:25:02.314 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793161; id: 18; name: call_variants (8); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/5e/b0d6f638d337f2724216e1c623696e started: 1589066702258; exited: 2020-05-09T23:24:59.438351Z; ]
May-10 01:25:02.379 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793162; id: 20; name: call_variants (10); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/4d/bd962a86564ed7d9961bb6953818a8 started: 1589066702330; exited: 2020-05-09T23:24:59.27235Z; ]
May-10 01:25:02.483 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=11; failedCount=6; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=1; runningCount=-5; retriesCount=0; abortedCount=8; succeedDuration=309ms; failedDuration=223ms; cachedDuration=0ms;loadCpus=-5; loadMemory=0; peakRunning=4; peakCpus=4; peakMemory=0; ]
May-10 01:25:02.751 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
May-10 01:25:03.007 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
