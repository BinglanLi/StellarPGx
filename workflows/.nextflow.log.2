May-10 01:13:41.457 [main] DEBUG nextflow.cli.Launcher - $> nextflow run asteri.nf -profile slurm
May-10 01:13:41.857 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 20.01.0
May-10 01:13:41.913 [main] INFO  nextflow.cli.CmdRun - Launching `asteri.nf` [gigantic_goldstine] - revision: 388f91a5ec
May-10 01:13:41.957 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /home/david/asterigraph/workflows/nextflow.config
May-10 01:13:41.958 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/david/asterigraph/workflows/nextflow.config
May-10 01:13:42.003 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `slurm`
May-10 01:13:42.843 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [standard, slurm]
May-10 01:13:43.055 [main] DEBUG nextflow.Session - Session uuid: e19dd2f3-edc9-4919-9b93-957129f36252
May-10 01:13:43.056 [main] DEBUG nextflow.Session - Run name: gigantic_goldstine
May-10 01:13:43.057 [main] DEBUG nextflow.Session - Executor pool size: 12
May-10 01:13:43.078 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 20.01.0 build 5264
  Created: 12-02-2020 10:14 UTC (12:14 SAST)
  System: Linux 3.10.0-1062.18.1.el7.x86_64
  Runtime: Groovy 2.5.8 on OpenJDK 64-Bit Server VM 1.8.0_252-b09
  Encoding: UTF-8 (UTF-8)
  Process: 3496@cream-ce.core.wits.ac.za [146.141.240.90]
  CPUs: 12 - Mem: 31.3 GB (365.2 MB) - Swap: 7.9 GB (6.9 GB)
May-10 01:13:43.135 [main] DEBUG nextflow.Session - Work-dir: /home/david/asterigraph/workflows/work [nfs]
May-10 01:13:43.193 [main] DEBUG nextflow.Session - Observer factory: TowerFactory
May-10 01:13:43.197 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
May-10 01:13:43.535 [main] DEBUG nextflow.Session - Session start invoked
May-10 01:13:43.896 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
May-10 01:13:43.921 [main] DEBUG nextflow.Session - Workflow process names [dsl1]: call_variants, analyse_vcf, filter_bam
May-10 01:13:43.980 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: /home/david/GeT-RM/bam_links/; pattern: NA185*{bam,bai}; options: [type:file]
May-10 01:13:44.303 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
May-10 01:13:44.303 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
May-10 01:13:44.325 [main] DEBUG nextflow.executor.Executor - [warm up] executor > slurm
May-10 01:13:44.338 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'slurm' > capacity: 100; pollInterval: 5s; dumpInterval: 5m 
May-10 01:13:44.346 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'slurm' > queue-stat-interval: 1m
May-10 01:13:44.451 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > filter_bam -- maxForks: 12; blocking: false
May-10 01:13:44.515 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
May-10 01:13:44.516 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
May-10 01:13:44.519 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > call_variants -- maxForks: 12; blocking: false
May-10 01:13:44.540 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
May-10 01:13:44.541 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
May-10 01:13:44.548 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > analyse_vcf -- maxForks: 12; blocking: false
May-10 01:13:44.556 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
May-10 01:13:44.557 [main] DEBUG nextflow.Session - Session await
May-10 01:13:44.970 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (2) > jobId: 2793121; workDir: /home/david/asterigraph/workflows/work/98/bc4d31c8b2f385acc231ec7a143080
May-10 01:13:44.981 [Task submitter] INFO  nextflow.Session - [98/bc4d31] Submitted process > filter_bam (2)
May-10 01:13:45.027 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (10) > jobId: 2793122; workDir: /home/david/asterigraph/workflows/work/b5/13a11ed404cd73c8d1669407205971
May-10 01:13:45.028 [Task submitter] INFO  nextflow.Session - [b5/13a11e] Submitted process > filter_bam (10)
May-10 01:13:45.061 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (6) > jobId: 2793123; workDir: /home/david/asterigraph/workflows/work/9c/344cb9c3a54e33e7039616157af519
May-10 01:13:45.062 [Task submitter] INFO  nextflow.Session - [9c/344cb9] Submitted process > filter_bam (6)
May-10 01:13:45.094 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (9) > jobId: 2793124; workDir: /home/david/asterigraph/workflows/work/9d/99f4570b40e1da9a46367236da582a
May-10 01:13:45.095 [Task submitter] INFO  nextflow.Session - [9d/99f457] Submitted process > filter_bam (9)
May-10 01:13:45.153 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (1) > jobId: 2793125; workDir: /home/david/asterigraph/workflows/work/ef/55c9640d899b27450d51313910e0e7
May-10 01:13:45.154 [Task submitter] INFO  nextflow.Session - [ef/55c964] Submitted process > filter_bam (1)
May-10 01:13:45.185 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (3) > jobId: 2793126; workDir: /home/david/asterigraph/workflows/work/e0/5dd8b99ae059a04273adf01d2bc058
May-10 01:13:45.186 [Task submitter] INFO  nextflow.Session - [e0/5dd8b9] Submitted process > filter_bam (3)
May-10 01:13:45.215 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (8) > jobId: 2793127; workDir: /home/david/asterigraph/workflows/work/47/9ad93d86c6acec6f5a845274585eab
May-10 01:13:45.216 [Task submitter] INFO  nextflow.Session - [47/9ad93d] Submitted process > filter_bam (8)
May-10 01:13:45.247 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (7) > jobId: 2793128; workDir: /home/david/asterigraph/workflows/work/b9/31e2e955563b9967802575e80cbbc6
May-10 01:13:45.248 [Task submitter] INFO  nextflow.Session - [b9/31e2e9] Submitted process > filter_bam (7)
May-10 01:13:45.277 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (5) > jobId: 2793129; workDir: /home/david/asterigraph/workflows/work/35/4c226e86c0e2a8191abaf0b037f010
May-10 01:13:45.278 [Task submitter] INFO  nextflow.Session - [35/4c226e] Submitted process > filter_bam (5)
May-10 01:13:45.307 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process filter_bam (4) > jobId: 2793130; workDir: /home/david/asterigraph/workflows/work/64/318e33ba1f123c7f1c07be774f3500
May-10 01:13:45.308 [Task submitter] INFO  nextflow.Session - [64/318e33] Submitted process > filter_bam (4)
May-10 01:13:49.375 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793121; id: 9; name: filter_bam (2); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/98/bc4d31c8b2f385acc231ec7a143080 started: 1589066029361; exited: 2020-05-09T23:13:45.717315Z; ]
May-10 01:13:49.415 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793122; id: 2; name: filter_bam (10); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/b5/13a11ed404cd73c8d1669407205971 started: 1589066029405; exited: 2020-05-09T23:13:45.893316Z; ]
May-10 01:13:49.434 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793123; id: 5; name: filter_bam (6); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/9c/344cb9c3a54e33e7039616157af519 started: 1589066029428; exited: 2020-05-09T23:13:45.975316Z; ]
May-10 01:13:49.521 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793124; id: 3; name: filter_bam (9); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/9d/99f4570b40e1da9a46367236da582a started: 1589066029449; exited: 2020-05-09T23:13:45.927316Z; ]
May-10 01:13:49.545 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793125; id: 1; name: filter_bam (1); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/ef/55c9640d899b27450d51313910e0e7 started: 1589066029539; exited: 2020-05-09T23:13:46.515318Z; ]
May-10 01:13:49.556 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (1) > jobId: 2793131; workDir: /home/david/asterigraph/workflows/work/ba/31b101d544f2b713d978bfe3483e71
May-10 01:13:49.556 [Task submitter] INFO  nextflow.Session - [ba/31b101] Submitted process > call_variants (1)
May-10 01:13:49.567 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793126; id: 8; name: filter_bam (3); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/e0/5dd8b99ae059a04273adf01d2bc058 started: 1589066029555; exited: 2020-05-09T23:13:46.384318Z; ]
May-10 01:13:49.574 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793127; id: 10; name: filter_bam (8); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/47/9ad93d86c6acec6f5a845274585eab started: 1589066029570; exited: 2020-05-09T23:13:46.584319Z; ]
May-10 01:13:49.583 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793128; id: 4; name: filter_bam (7); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/b9/31e2e955563b9967802575e80cbbc6 started: 1589066029579; exited: 2020-05-09T23:13:46.685319Z; ]
May-10 01:13:49.597 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (2) > jobId: 2793132; workDir: /home/david/asterigraph/workflows/work/d8/ed7068ced5282afcc410f033aedb21
May-10 01:13:49.597 [Task submitter] INFO  nextflow.Session - [d8/ed7068] Submitted process > call_variants (2)
May-10 01:13:49.603 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793129; id: 6; name: filter_bam (5); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/35/4c226e86c0e2a8191abaf0b037f010 started: 1589066029590; exited: 2020-05-09T23:13:46.79732Z; ]
May-10 01:13:49.613 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793130; id: 7; name: filter_bam (4); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/64/318e33ba1f123c7f1c07be774f3500 started: 1589066029610; exited: 2020-05-09T23:13:46.93632Z; ]
May-10 01:13:49.639 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (3) > jobId: 2793133; workDir: /home/david/asterigraph/workflows/work/f6/ae5beb850f3051111533ebe20b9f9a
May-10 01:13:49.639 [Task submitter] INFO  nextflow.Session - [f6/ae5beb] Submitted process > call_variants (3)
May-10 01:13:49.666 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (4) > jobId: 2793134; workDir: /home/david/asterigraph/workflows/work/bc/bbbe715c61fb04b099e5cec3895032
May-10 01:13:49.667 [Task submitter] INFO  nextflow.Session - [bc/bbbe71] Submitted process > call_variants (4)
May-10 01:13:49.693 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (5) > jobId: 2793135; workDir: /home/david/asterigraph/workflows/work/87/7b6f425e1aa3526a928c78c7c9cecf
May-10 01:13:49.693 [Task submitter] INFO  nextflow.Session - [87/7b6f42] Submitted process > call_variants (5)
May-10 01:13:49.722 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (8) > jobId: 2793136; workDir: /home/david/asterigraph/workflows/work/2a/407a45e2261d435b86dba64720cd3d
May-10 01:13:49.723 [Task submitter] INFO  nextflow.Session - [2a/407a45] Submitted process > call_variants (8)
May-10 01:13:49.751 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (7) > jobId: 2793137; workDir: /home/david/asterigraph/workflows/work/91/08ac297cd1c268626f351c16395106
May-10 01:13:49.752 [Task submitter] INFO  nextflow.Session - [91/08ac29] Submitted process > call_variants (7)
May-10 01:13:49.792 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (6) > jobId: 2793138; workDir: /home/david/asterigraph/workflows/work/d6/eeba10c3708db97688b797b56488e5
May-10 01:13:49.792 [Task submitter] INFO  nextflow.Session - [d6/eeba10] Submitted process > call_variants (6)
May-10 01:13:49.821 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (10) > jobId: 2793139; workDir: /home/david/asterigraph/workflows/work/1c/dfeb546c62c966166a57181c4b32ea
May-10 01:13:49.822 [Task submitter] INFO  nextflow.Session - [1c/dfeb54] Submitted process > call_variants (10)
May-10 01:13:49.848 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process call_variants (9) > jobId: 2793140; workDir: /home/david/asterigraph/workflows/work/d9/fb030794f85c59081ad0c1ed6cbb00
May-10 01:13:49.848 [Task submitter] INFO  nextflow.Session - [d9/fb0307] Submitted process > call_variants (9)
May-10 01:13:54.360 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793131; id: 11; name: call_variants (1); status: COMPLETED; exit: 0; error: -; workDir: /home/david/asterigraph/workflows/work/ba/31b101d544f2b713d978bfe3483e71 started: 1589066034354; exited: 2020-05-09T23:13:54.122353Z; ]
May-10 01:13:54.370 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793132; id: 12; name: call_variants (2); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/d8/ed7068ced5282afcc410f033aedb21 started: 1589066034365; exited: 2020-05-09T23:13:52.522345Z; ]
May-10 01:13:54.403 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process analyse_vcf (1) > jobId: 2793141; workDir: /home/david/asterigraph/workflows/work/7d/d449881fc2e80756ceb82214490d99
May-10 01:13:54.404 [Task submitter] INFO  nextflow.Session - [7d/d44988] Submitted process > analyse_vcf (1)
May-10 01:13:54.419 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'call_variants (2)'

Caused by:
  Process `call_variants (2)` terminated with an error exit status (1)

Command executed:

  samtools index NA18565_filtered.bam 
  graphtyper genotype /spaces/gerrit/dbs/gatk/bundle/2.8/b37/human_g1k_v37_decoy.fasta --sam=NA18565_filtered.bam --region=22:42522300-42528400 --output=NA18565_var --prior_vcf=/home/david/asterigraph/resources/common_var_plus_core_var.vcf.gz

Command exit status:
  1

Command output:
  (empty)

Command error:
  [2020-05-10 01:13:52.489723] <error> [graphtyper::rocksdb] Could not destroy database '/tmp/graphtyper_200510_011351_22_042522300/it2/graph_gti'. Message: IO error: While lock file: /tmp/graphtyper_200510_011351_22_042522300/it2/graph_gti/LOCK: Resource temporarily unavailable
  [2020-05-10 01:13:52.516144] <error> [graphtyper::rocksdb] While trying to open '/tmp/graphtyper_200510_011351_22_042522300/it2/graph_gti'. Message: IO error: While lock file: /tmp/graphtyper_200510_011351_22_042522300/it2/graph_gti/LOCK: Resource temporarily unavailable

Work dir:
  /home/david/asterigraph/workflows/work/d8/ed7068ced5282afcc410f033aedb21

Tip: you can try to figure out what's wrong by changing to the process work dir and showing the script file named `.command.sh`
May-10 01:13:54.428 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `call_variants (2)` terminated with an error exit status (1)
May-10 01:13:54.451 [Task monitor] DEBUG nextflow.Session - The following nodes are still active:
[process] analyse_vcf
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

May-10 01:13:54.457 [main] DEBUG nextflow.Session - Session await > all process finished
May-10 01:13:54.457 [main] DEBUG nextflow.Session - Session await > all barriers passed
May-10 01:13:54.467 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793133; id: 13; name: call_variants (3); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/f6/ae5beb850f3051111533ebe20b9f9a started: 1589066034461; exited: 2020-05-09T23:13:54.177353Z; ]
May-10 01:13:54.476 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793134; id: 14; name: call_variants (4); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/bc/bbbe715c61fb04b099e5cec3895032 started: 1589066034471; exited: 2020-05-09T23:13:54.080352Z; ]
May-10 01:13:54.476 [main] WARN  n.processor.TaskPollingMonitor - Killing pending tasks (8)
May-10 01:13:54.486 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793135; id: 15; name: call_variants (5); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/87/7b6f425e1aa3526a928c78c7c9cecf started: 1589066034480; exited: 2020-05-09T23:13:52.396345Z; ]
May-10 01:13:54.497 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793136; id: 18; name: call_variants (8); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/2a/407a45e2261d435b86dba64720cd3d started: 1589066034490; exited: 2020-05-09T23:13:52.247344Z; ]
May-10 01:13:54.506 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793137; id: 17; name: call_variants (7); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/91/08ac297cd1c268626f351c16395106 started: 1589066034502; exited: 2020-05-09T23:13:52.497345Z; ]
May-10 01:13:54.513 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793138; id: 16; name: call_variants (6); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/d6/eeba10c3708db97688b797b56488e5 started: 1589066034509; exited: 2020-05-09T23:13:52.261344Z; ]
May-10 01:13:54.518 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=11; failedCount=7; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=2; runningCount=-6; retriesCount=0; abortedCount=7; succeedDuration=82ms; failedDuration=34ms; cachedDuration=0ms;loadCpus=-6; loadMemory=0; peakRunning=1; peakCpus=1; peakMemory=0; ]
May-10 01:13:54.522 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793139; id: 20; name: call_variants (10); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/1c/dfeb546c62c966166a57181c4b32ea started: 1589066034515; exited: 2020-05-09T23:13:53.54735Z; ]
May-10 01:13:54.529 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[jobId: 2793140; id: 19; name: call_variants (9); status: COMPLETED; exit: 1; error: -; workDir: /home/david/asterigraph/workflows/work/d9/fb030794f85c59081ad0c1ed6cbb00 started: 1589066034525; exited: 2020-05-09T23:13:53.054348Z; ]
May-10 01:13:54.659 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
May-10 01:13:54.696 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
